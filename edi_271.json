{
  "parser_settings": {
    "version": "omni.2.1",
    "file_format_type": "edi"
  },
  "file_declaration": {
    "element_delimiter": "*",
    "segment_delimiter": "~",
    "component_delimiter": ":",
    "ignore_crlf": true,
    "segment_declarations": [
      {
        "name": "ISA",
        "child_segments": [
          {
            "name": "functional_group",
            "type": "segment_group",
            "max": -1,
            "child_segments": [
              {
                "name": "GS"
              },
              {
                "name": "transaction",
                "type": "segment_group",
                "max": -1,
                "is_target": true,
                "child_segments": [
                  {
                    "name": "ST"
                  },
                  {
                    "name": "BHT",
                    "elements": [
                      {
                        "name": "BHT03",
                        "index": 3
                      }
                    ]
                  },
                  {
                    "name": "HL",
                    "child_segments": [
                      {
                        "name": "information_source_name_loop",
                        "type": "segment_group",
                        "child_segments": [
                          {
                            "name": "NM1",
                            "elements": [
                              {
                                "index": 3,
                                "name": "payer_name"
                              }
                            ]
                          },
                          {
                            "name": "PER",
                            "min": 0,
                            "max": 3
                          },
                          {
                            "name": "AAA",
                            "min": 0,
                            "max": 9
                          }
                        ]
                      },
                      {
                        "name": "information_receiver_level_loop",
                        "min": 0,
                        "type": "segment_group",
                        "min": 0,
                        "max": -1,
                        "child_segments": [
                          {
                            "name": "HL",
                            "child_segments": [
                              {
                                "name": "information_receiver_name_loop",
                                "type": "segment_group",
                                "child_segments": [
                                  {
                                    "name": "NM1"
                                  },
                                  {
                                    "name": "REF",
                                    "min": 0,
                                    "max": 9
                                  },
                                  {
                                    "name": "N3",
                                    "min": 0
                                  },
                                  {
                                    "name": "N4",
                                    "min": 0
                                  },
                                  {
                                    "name": "AAA",
                                    "min": 0,
                                    "max": 9
                                  },
                                  {
                                    "name": "PRV",
                                    "min": 0
                                  }
                                ]
                              },
                              {
                                "name": "subscriber_level_loop",
                                "type": "segment_group",
                                "min": 0,
                                "max": -1,
                                "child_segments": [
                                  {
                                    "name": "HL",
                                    "child_segments": [
                                      {
                                        "name": "TRN",
                                        "min": 0,
                                        "max": 3
                                      },
                                      {
                                        "name": "subscriber_name_loop",
                                        "type": "segment_group",
                                        "child_segments": [
                                          {
                                            "name": "NM1",
                                            "elements": [
                                              {
                                                "index": 3,
                                                "name": "last_name"
                                              }
                                            ]
                                          },
                                          {
                                            "name": "REF",
                                            "min": 0,
                                            "max": 9
                                          },
                                          {
                                            "name": "N3",
                                            "min": 0
                                          },
                                          {
                                            "name": "N4",
                                            "min": 0
                                          },
                                          {
                                            "name": "AAA",
                                            "min": 0,
                                            "max": 9
                                          },
                                          {
                                            "name": "PRV",
                                            "min": 0
                                          },
                                          {
                                            "name": "DMG",
                                            "min": 0
                                          },
                                          {
                                            "name": "INS",
                                            "min": 0
                                          },
                                          {
                                            "name": "HI",
                                            "min": 0
                                          },
                                          {
                                            "name": "DTP",
                                            "min": 0,
                                            "max": 9
                                          },
                                          {
                                            "name": "MPI",
                                            "min": 0
                                          },
                                          {
                                            "name": "subscriber_eligibility_or_benefit_information_loop",
                                            "type": "segment_group",
                                            "min": 0,
                                            "max": -1,
                                            "child_segments": [
                                              {
                                                "name": "EB"
                                              },
                                              {
                                                "name": "HSD",
                                                "min": 0,
                                                "max": 9
                                              },
                                              {
                                                "name": "REF",
                                                "min": 0,
                                                "max": 9
                                              },
                                              {
                                                "name": "DTP",
                                                "min": 0,
                                                "max": 20
                                              },
                                              {
                                                "name": "AAA",
                                                "min": 0,
                                                "max": 9
                                              },
                                              {
                                                "name": "MSG",
                                                "min": 0,
                                                "max": 10
                                              },
                                              {
                                                "name": "subscriber_eligibility_or_benefit_additional_information_loop",
                                                "type": "segment_group",
                                                "min": 0,
                                                "max": 10,
                                                "child_segments": [
                                                  {
                                                    "name": "III"
                                                  }
                                                ]
                                              },
                                              {
                                                "name": "LS",
                                                "min": 0
                                              },
                                              {
                                                "name": "subscriber_benefit_related_entity_name_loop",
                                                "type": "segment_group",
                                                "min": 0,
                                                "max": 23,
                                                "child_segments": [
                                                  {
                                                    "name": "NM1"
                                                  },
                                                  {
                                                    "name": "N3",
                                                    "min": 0
                                                  },
                                                  {
                                                    "name": "N4",
                                                    "min": 0
                                                  },
                                                  {
                                                    "name": "PER",
                                                    "min": 0,
                                                    "max": 3
                                                  },
                                                  {
                                                    "name": "PRV",
                                                    "min": 0
                                                  }
                                                ]
                                              },
                                              {
                                                "name": "LE",
                                                "min": 0
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              },
                              {
                                "name": "dependent_level_loop",
                                "type": "segment_group",
                                "min": 0,
                                "max": -1,
                                "child_segments": [
                                  {
                                    "name": "HL",
                                    "child_segments": [
                                      {
                                        "name": "TRN",
                                        "min": 0,
                                        "max": 3
                                      },
                                      {
                                        "name": "dependent_name_loop",
                                        "type": "segment_group",
                                        "child_segments": [
                                          {
                                            "name": "NM1"
                                          },
                                          {
                                            "name": "REF",
                                            "min": 0,
                                            "max": 9
                                          },
                                          {
                                            "name": "N3",
                                            "min": 0
                                          },
                                          {
                                            "name": "N4",
                                            "min": 0
                                          },
                                          {
                                            "name": "AAA",
                                            "min": 0,
                                            "max": 9
                                          },
                                          {
                                            "name": "PRV",
                                            "min": 0
                                          },
                                          {
                                            "name": "DMG",
                                            "min": 0
                                          },
                                          {
                                            "name": "INS",
                                            "min": 0
                                          },
                                          {
                                            "name": "HI",
                                            "min": 0
                                          },
                                          {
                                            "name": "DTP",
                                            "min": 0,
                                            "max": 9
                                          },
                                          {
                                            "name": "MPI",
                                            "min": 0
                                          },
                                          {
                                            "name": "dependent_eligibility_or_benefit_information_loop",
                                            "type": "segment_group",
                                            "min": 0,
                                            "max": -1,
                                            "child_segments": [
                                              {
                                                "name": "EB"
                                              },
                                              {
                                                "name": "HSD",
                                                "min": 0,
                                                "max": 9
                                              },
                                              {
                                                "name": "REF",
                                                "min": 0,
                                                "max": 9
                                              },
                                              {
                                                "name": "DTP",
                                                "min": 0,
                                                "max": 20
                                              },
                                              {
                                                "name": "AAA",
                                                "min": 0,
                                                "max": 9
                                              },
                                              {
                                                "name": "MSG",
                                                "min": 0,
                                                "max": 10
                                              },
                                              {
                                                "name": "dependent_eligibility_or_benefit_additional_information_loop",
                                                "type": "segment_group",
                                                "min": 0,
                                                "max": 10,
                                                "child_segments": [
                                                  {
                                                    "name": "III"
                                                  }
                                                ]
                                              },
                                              {
                                                "name": "LS",
                                                "min": 0
                                              },
                                              {
                                                "name": "dependent_benefit_related_entity_name_loop",
                                                "type": "segment_group",
                                                "min": 0,
                                                "max": 23,
                                                "child_segments": [
                                                  {
                                                    "name": "NM1"
                                                  },
                                                  {
                                                    "name": "N3",
                                                    "min": 0
                                                  },
                                                  {
                                                    "name": "N4",
                                                    "min": 0
                                                  },
                                                  {
                                                    "name": "PER",
                                                    "min": 0,
                                                    "max": 3
                                                  },
                                                  {
                                                    "name": "PRV",
                                                    "min": 0
                                                  }
                                                ]
                                              },
                                              {
                                                "name": "LE",
                                                "min": 0
                                              }
                                            ]
                                          }
                                        ]
                                      }
                                    ]
                                  }
                                ]
                              }
                            ]
                          }
                        ]
                      }
                    ]
                  },
                  {
                    "name": "information_source_AAA",
                    "min": 0
                  },
                  {
                    "name": "SE",
                    "max": -1
                  }
                ]
              },
              {
                "name": "GE"
              }
            ]
          }
        ]
      },
      {
        "name": "IEA"
      }
    ]
  },
  "transform_declarations": {
    "FINAL_OUTPUT": {
      "object": {
        "resourceType": {
          "const": "CoverageEligibilityResponse"
        },
        "outcome": {
          "const": "complete"
        },
        "status": {
          "const": "active"
        },
        "purpose": {
          "array": [
            {
              "const": "validation"
            }
          ]
        },
        "insurer": {
          "object": {
            "reference": {
              "const": "#insurer"
            }
          }
        },
        "patient": {
          "object": {
            "reference": {
              "const": "#patient"
            }
          }
        },
        "request": {
          "object": {
            "reference": {
              "const": "#request"
            }
          }
        },
        "insurance": {
          "array": [
            {
              "object": {
                "coverage": {
                  "object": {
                    "reference": {
                      "const": "#coverage"
                    }
                  }
                }
              }
            }
          ]
        },
        "contained": {
          "array": [
            {
              "object": {
                "id": {
                  "const": "patient"
                },
                "name": {
                  "array": [
                    {
                      "object": {
                        "family": {
                          "xpath": "HL/information_receiver_level_loop/HL/subscriber_level_loop/HL/subscriber_name_loop/NM1/last_name"
                        }
                      }
                    }
                  ]
                }
              }
            }
          ]
        }
      }
    }
  }
}
